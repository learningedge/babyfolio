<li class="single-activity <%= "selected" if a[:selected] %> <%= time %>">
    <div class="single-activity-left">
      
      <div class="category-corner <%= time %>">
        <img src="/images/icon_teal_<%= a[:category] %>.png" />
        <div><a href="#"><%= category_name(a[:category]) %></a></div>
        
          <div class="show-future">keep trying!</div>
          <div class="show-past">good work!</div>
      </div>
    </div>
    <div class="single-activity-right">
      <div class="single-activity-nav">
          <%= link_to "#", adjacent_activity_children_path(:mid => a[:mid], :dir => "prev"), :remote => true, :class => 'previous-activity-link' %>
          <a href="#" class="activity-title-link"><%= a[:title] %></a>
          <%= link_to "#", adjacent_activity_children_path(:mid => a[:mid], :dir => "next"), :remote => true, :class => 'next-activity-link' %>
      </div>
      <div class="activity-setup"><%= a[:setup] %></div>
      <div class="play-icons-corner">
        <% active_like = "active" if a[:likes] == true %>
        <% active_dislike = "active" if a[:likes] == false %>

        <%= link_to "Timeline", "#dialog-timeline-#{a[:mid]}", :class => "show-dialog timeline-btn" %>
        <%= link_to "Likes",  "#dialog-likes-#{a[:mid]}", :class => "show-dialog likes-btn #{active_like}",  :data_mid => "#{a[:mid]}", :onclick => "like(this); return false;" %>
        <%= link_to "Dislikes", "#dialog-dislikes-#{a[:mid]}", :class => "show-dialog dislikes-btn #{active_dislike}", :data_mid => "#{a[:mid]}", :onclick => "dislike(this); return false;" %>

        <div id="dialog-timeline-<%= a[:mid] %>" class="play-dialog">
            <%= render :partial => 'timeline_popup', :locals => { :type => "play", :did_what => a[:title], :category => a[:category], :mid => a[:mid] } %>
        </div>
        <div id="dialog-likes-<%= a[:mid] %>" class="play-dialog">
            <%= render :partial => 'timeline_popup', :locals => { :type => "likes", :did_what => a[:title], :category => a[:category], :mid => a[:mid] } %>
        </div>
        <div id="dialog-dislikes-<%= a[:mid] %>" class="play-dialog">
            <%= render :partial => 'timeline_popup', :locals => { :type => "dislikes", :did_what => a[:title], :category => a[:category], :mid => a[:mid] } %>
        </div>
      </div>

    </div>
    <div class="clear"></div>    
    <div class="play-popup <%= time %>">
      <div class="pointing-arrow"></div>
      <div class="popup-wrapper">            
            <h4><%= a[:title] %></h4>
            <div class="show-future">future activity</div>
            <div class="show-past">completed activity <span><%= current_child.first_name.capitalize %> already did this with you.</span></div>

            <% unless a[:response].blank? %>
                <p><%= a[:response] %></p>
            <% end %>

            <% unless a[:variations].blank? %>
                <h5>Variations</h5>
                <p><%= a[:variations] %></p>
            <% end %>

            <% unless a[:learning_benefits].blank? %>
                <h5>What Did We Just Do?</h5>
                <p><%= a[:learning_benefits] %></p>
            <% end %>

            <h5 class="play-final-header">This is good for <%= current_child.first_name.capitalize %> because he has: </h5>
            <ul class="play-popup-ms">
              <li><a href="<%= watch_children_path(:mid => a[:mid])  %>"><%= truncate(a[:ms_title], :length => 40) %></a></li>
            </ul>
      </div>
    </div>
    <div class="preloader-div"></div>
  </li>

  