<div class="container settings child-image">

  <div id="left">
    <div id="title">Child's Image</div>
  </div>

  <div class="user-form update_form">

    <%#= render "shared/error_messages", :target => @family %>
    
    <h2>Upload Image for <%= @child.first_name -%>'s profile</h2>
    <div class="images-container">

      <div class="profile-image">
        <%= image_tag @child.profile_image.url(:large) %>
      </div>
      
      <%= form_for @child,:html => { :multipart => true } do |f| -%>

        <div>
          <%= f.file_field :profile_image, :onchange => '$("#child_profile_image_remote_url").val("")'  -%>
        </div>
        <div>
          <%= f.hidden_field :profile_image_remote_url -%>
        </div>
      
        <div>
          <%= f.submit 'Update Image' %>
        </div>
      
      <% end %>

      <div class="clear"></div>
      
    </div>
    
    <h2>OR choose one from facebook</h2>
    
    <h2>OR flicker</h2>
    <div id="flickr-ajax-container" class="singleselect">
      <%= render :partial => 'flickr/select_flickr_photos' %>
    </div>
    <script type="text/javascript" src="/js/flickr.js"></script>

  </div>

  <div class="clear"></div>
</div>
<script type="text/javascript">
  $('.image').click(function(){
    $('#child_profile_image_remote_url').val($(this).attr('url'));
    $('.image').removeClass('active');
    $(this).addClass('active');
  })
</script>
