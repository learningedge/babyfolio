    <div id="all-initial-questions">
        <% questions.each do |key, qc| %>
          <div class="single-question single-<%= key %>">
            <%= render :partial => 'single_question', :locals => { :question => qc[0], :category => key, :completed => qc[1] } %>
          </div>
        <% end %>      
      <div id="finish-link-wrapper"><%= link_to "Finish", initial_questionnaire_completed_path , :class => 'not-seen-link hidden' %></div>
    </div>

  <script type="text/javascript">
    $(function() {
      $('.not-seen-form').bind('ajax:complete', function(){
            $('.preloader').fadeOut();
      });      
      $('.single-question-cover:not(.completed)').addClass('shown').first().removeClass('shown');
      showFinish();
    });

    function showFinish() {
      if($('.single-question-cover').length == $('.single-question-cover.completed').length) {
        $('.not-seen-link').removeClass('hidden');
      }
    }
  </script>



